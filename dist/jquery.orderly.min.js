!function($){if(!window.__orderly){window.__orderly=!0;var $w=$(window);$w.on("resize",function(e){$w.trigger("orderly")});var proto={};proto.init=function($els){return this.$els=$els,this.len=$els.length,this},proto.attach=function(){void 0===this.attached&&(this.attached=!0,$w.on("orderly",_debounce(this.handler(),100)))},proto.handler=function(){var that=this;return function(){_reset(that),_eachElement(that)}};var _eachElement=function(obj){for(var i=0;i<obj.len;)i=_currentRow(obj,null,0,[],i)},_currentRow=function(obj,lastPos,max,row,i){for(;i<obj.len&&(lastPos=_inRow(obj,lastPos,i),null!==lastPos);)max=_max(obj,max,i),row.push(obj.$els[i]),i++;return max=_maxPx(max),_resize(obj,$(row),max),i},_inRow=function(obj,lastPos,i){var $el=obj.$els.eq(i),pos=$el.offset().left;return null!==lastPos&&lastPos>=pos?null:pos},_max=function(obj,max,i){var box=obj.$els[i].getBoundingClientRect(),current=box.bottom-box.top;return Math.max(max,current)},_maxPx=function(n){return Math.round(n).toString()+"px"},_resize=function(obj,$row,height){$row.each(function(i,el){$(el).css({height:height}),_emit(el,"resize",height,i,$row.length)})},_reset=function(obj){var $all=obj.$els;$all.each(function(i,el){_emit(el,"reset","",i,$all.length),$(el).css({height:""})})},_emit=function(el,event,h,i,l){$(el).trigger("orderly."+event,[el,h,i,l])};$.fn.orderly=function(options){return this.length>0&&_delegate(this,options),this};var _delegate=function($els,options){var m=options&&options.method||"register",fn=_methods[m];fn($els)},_register=function($els){var o=Object.create(proto).init($els);o.attach(),o.handler()()},_methods={};_methods.register=_register,_methods.children=function($els){var c=_indexCounter++;_assignData($els,c),_register($els),_registerChildren($els,c),_register($els)};var _registerChildren=function($els,c){for(var len=$els[0].children.length,i=0;len>i;i++)_register(_find(c,i))},_assignData=function($els,c){$els.each(function(i,el){$(el.children).each(function(i,ch){$(ch).attr("data-orderly",c+":"+i)})})},_find=function(c,i){return $('[data-orderly="'+c+":"+i+'"]')},_debounce=function(fn,ms){var timeout;return function(){clearTimeout(timeout),timeout=setTimeout(function(){timeout=null,fn.apply(this,arguments)},ms)}},_indexCounter=0}}(jQuery);